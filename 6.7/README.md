# Домашнее задание к занятию "PLC Овен"

### Цель задания
ПЛК фирмы "ОВЕН" является одним из ведущих отечественных производителей компонентов для АСУТП. Данный ПЛК по частоте использования уступает разве что PLC Siemens.
После выполнения данного домашнего задания вы сможете:
1. Разобраться в разнообразии контроллеров ОВЕН.
2. Изучите основы программирования данного ПЛК, его особенности и нюансы.
3. Настроите связь ПЛК/HMI со SCADA-системой, установленной на виртуальной машине.


### Чеклист готовности к домашнему заданию
1. Загрузить и установите дистрибутив ПО Codesys V3 с [официального сайта производителя](https://owen.ru/license-file?f=https://www.owen.ru/upl/PO/Codesys3/CODESYS_Repository_Archive_V3.5_SP4.zip).
2. Загрузить и установить [дополнительные библиотеки](https://owen.ru/product/codesys_v3/documentation), необходимые для выполнения задания. Список необходимых библиотек: 
3. Скачать [предварительно разработанный HMI-проект](), выполненный в программном обеспечении "Конфигуратор СП300".
4. Скачать экспортированный образ ОС Windows 10 с [официального сайта](https://developer.microsoft.com/en-us/microsoft-edge/tools/vms/).
5. Загрузить один из выбранных вами OPC-серверов: [CODESYS V3 OPC](), [MasterOPC Universal Modbus Server](), [Lectus Modbus OPC/DDE Server](), [ОВЕН OPC]().
6. Установить [MasterSCADA]().

### Инструкция к заданию
1. Выполните установку необходимых программных инструментов из **Чеклиста готовности к домашнему заданию**.
2. Сделайте копию Шаблона для домашнего задания себе на Google Disk.
3. В названии файла введите вашу фамилию и имя.
4. Зайдите в «Настройки доступа» скопированного вами шаблона и выберите доступ «Просматривать могут все в Интернете, у кого есть ссылка». Ссылка на инструкцию Как предоставить доступ к файлам и папкам на Google Диске.
5. Скопируйте текст задания в свой документ.
6. Выполните домашнее задание.
7. Вставьте в соответствующие абзацы вашего документа ссылки на выполненные задания.
8. Для проверки домашнего задания преподавателем отправьте ссылку на ваш документ в личном кабинете.
9. Любые вопросы по решению задач задавайте в чате учебной группы.

### Инструменты/ дополнительные материалы, которые пригодятся для выполнения задания

1. Google-Диск.
2. Google-документы.
3. [CODESYS V3](https://owen.ru/license-file?f=https://www.owen.ru/upl/PO/Codesys3/CODESYS_Repository_Archive_V3.5_SP4.zip).
4. [Дополнительные библиотеки](https://owen.ru/product/codesys_v3/documentation).
5. [Чистый образ Windows 10](https://developer.microsoft.com/en-us/microsoft-edge/tools/vms/).
6. Дистрибутивы OPC-серверов: [CODESYS V3 OPC](), [MasterOPC Universal Modbus Server](), [Lectus Modbus OPC/DDE Server](), [ОВЕН OPC]().
7. [Дистрибутив MasterSCADA]().
8. [HMI-проект]().
8. [Шаблон для домашнего задания](https://docs.google.com/document/d/17NMApsPhhf4vsnDDtFg3SyEir1uqEVdPAWIn3KVicIk/edit?usp=sharing).

### Задание 1
Разработайте POU для управления вращением электродвигателя по следующим условиям:
1. Запуск и остановка по кнопкам "Старт" и "Стоп" на панели управления (только при выборе ручного режима).
2. Вращение должно запускаться только при наличии воды в емкости (защита от "сухого хода").
3. Вращение электродвигателя в автоматическом режиме запускается от ультразвукового датчика уровня.

Более подробную информацию о данном задании можно изучить в [техническом задании]().

Необходимо скачать [HMI-проект]() и написать программный блок, реализующую необходимые функции, описанные в [техническом задании](), настроить связь между программой контроллера и HMI.

*Результатом выполнения данного задания будет следующий набор файлов*:
- программный блок, разработанный в среде CODESYS V3, содержащий в себе все требуемые для реализации функции.

### Задание 2 *
После неудачного восстановления операционной системы с установленной на ней SCADA-системой все данные были утеряны. Но, по счастливой случайности, у системного администратора, обслуживающего сервер MasterSCADA, остался экспортированный образ чистой ОС.
Ваша задача - восстановить работоспособность связи SCADA-системы с ПО Codesys V3.
*Инструкция по восстановлению работоспособности и настройке связи между SCADA и PLC*:
1. Импортировать ОС Windows 10 на виртуальную машину для разворачивания SCADA.
2. Установить и настроить на ВМ любой из выбранных вами OPC-серверов: 
- *CODESYS V3 OPC*;
- *MasterOPC Universal Modbus Server*;
- *Lectus Modbus OPC/DDE Server*;
- *ОВЕН OPC*.
3. Развернуть MasterSCADA на импортированной виртуальной машине.
4. Связать OPC-сервер с MasterSCADA.
5. Изменить из хостовой ОС попеременно значение переменных *EngineStart* (Запуск двигателя), *EngineStop* (Остановка двигателя) и *EngineVelocityTolerance*(Значение скорости двигателя). Значения должны измениться в БД OPC-сервера.

*Результатом выполнения данного задания будет следующий набор файлов*:
- архив формата .zip или .rar со следующими снимками экрана: 
1. скриншот SCADA-переменных до внесения изменений со стороны хоста;
2. скриншот SCADA-переменных после внесения изменений со стороны хоста. 

### Правила приема работы
1. Ссылка на документ (Google Doc) с выполненным заданием в личном кабинете.
2. Документ размещён на личном Google Disk.
3. К документу настроены права доступа «Просматривать могут все в Интернете, у кого есть ссылка.

### Критерии оценки
1. Зачёт - выполнены все задания, ответы даны в развернутой форме, в выполненных заданиях нет противоречий и нарушения логики.
2. На доработку - задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия, существенные недостатки.
